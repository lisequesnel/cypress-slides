<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
		<meta name="author" content="lisequesnel"/>

		<title>Cypress, (R)evolution ?</title>

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/black.css">

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="lib/css/zenburn.css">
		<link rel="stylesheet" href="./styles.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>
	</head>
	<body>
		<div class="reveal">
			<div class="slides">
				<section data-background-image="images/revolution.jpg">
					<img src="images/cypress.png" />
					<h1 class="caps">
						<span class="bold">(r)evolution?</span>
					</h1>
				</section>
				<section data-background-image="images/start.jpeg">
					<h2>
						<span class="bold">Introduction</span>
					</h2>
					<img width="60%" style="position: absolute; left:-100px; margin-top: 80px" src="images/testing-pyramid.png" />
					<h4 style="position: absolute; left: 500px; bottom: 180px">Why E2E Testing?</h4>
					<ul style="margin-left: 400px; margin-top: 200px">
						<li>ensure all sub-systems work properly together</li>
						<li>prevent bugs and regression</li>
					</ul>
					<aside class="notes">
						va simuler des interactions utilisateur sur un navigateur
					</aside>
				</section>
				<section data-background-color="#D7DBDC">
					<img width="50%" src="images/testing-doors.gif" />
				</section>
				<section data-background-image="images/question.jpg">
					<h1 style="margin-left: 250px; margin-top: 150px">
						<img width="15%" style="margin-bottom: -5px" src="images/selenium.png" />
						<span class="bold">Selenium</span>
					</h1>
					<div style="position: absolute; right: -150px; bottom: -150px">What is it, exactly?</div>
					<div style="position: absolute; right: -50px; bottom: -250px">How does it work?</div>
					<aside class="notes">
						Protractor, Nightwatch, webdriver.io sont construits par dessus selenium
					</aside>
				</section>
				<section data-background-color="#ffffff">
					<h2>
						<span class="bold">ğŸ“¦ Selenium Architecture</span>
					</h2>
					<img style="margin: 120px 0" src="images/selenium_architecture.png" />
					<aside class="notes">
						<ul>
							<li>Wrapper optionnel</li>
							<li>Server optionel: dÃ©marre et run plus vite les tests (server utilisÃ© pour manager plusieurs browsers)</li>
							<li>WebDriver wire Protocol: standardisÃ© par W3C</li>
							<li>Browser</li>
					</aside>
				</section>
				<section data-background-color="#ffffff">
					<h2>
						<span class="bold">ğŸ› ï¸ 3rd party tools</span>
					</h2>
					<img style="margin-top: 80px" src="images/testing_library.png" />
					<aside class="notes">
						<ul>
							<li>retrouve Wrapper</li>
							<li>ajout d'outils supplÃ©mentaires, selon utilisation</li>
							<li>bien d'autres</li>
						</ul>
					</aside>
				</section>
				<section data-background-image="images/problem.jpg">
					<h2>
						<span style="margin-right: 100px" class="bold">â˜ ï¸ Problems</span>
					</h2>
					<ul style="margin: 80px 0" >
						<li>Complicated to setup</li>
						<li>Hard to debug</li>
						<li>Slow</li>
					</ul>
					<aside class="notes">
						<ul>
							<li>Setup: besoin d'outils complÃ©mentaires</li>
							<li>Debug: Flaky tests</li>
							<li>Slow: peu performant, mÃªme en local passe par le rÃ©seau</li>
						</ul>
					</aside>
				</section>
				<section data-background-color="#D7DBDC">
					<img width="80%" src="images/painful.gif" />
				</section>
				<section data-background-image="images/evolution.jpg">
					<img width="80%" src="images/cypress.png" />
					<blockquote style="color: #49494C">"	The web has evolved. Finally, testing has too."</blockquote>
					<p class="spacer"/>
					<aside class="notes">
						Developer friendly: Easy to setup, write tests and manage
					</aside>
				</section>
				<section data-background-image="images/all-in-one.jpg">
					<h2>
						<span class="bold" style="color: #49494C">ğŸ All-in-one testing framework</span>
					</h2>
					<img width="30%" style="position: absolute; right:-100px" src="images/cypress_uses.png" />
					<ul style="color: #49494C; margin-top: 100px">
						<li>Built on top of Mocha</li>
						<li>Uses Chai for asssertions</li>
						<li>Sinon brings mocks, stubs and spies</li>
					</ul>
					<aside class="notes">
						Mocha apporte la structure de test et le runner
					</aside>
				</section>
				<section data-background-color="#D7DBDC">
					<h2>
						<span class="bold">âš™ï¸ Setup</span>
					</h2>
					<img width="100%" src="images/cypress_setup.gif" />
					<aside class="notes">
						3 minutes
					</aside>
				</section>
				<section data-background-image="images/writing.jpg">
					<h2>
						<span class="bold">WRITING TESTS</span>
					</h2>
					<ul style="margin-top: 330px">
						<li>Uses tools that already exists and familiar with</li>
						<li>Easy to read and understand</li>
						<li>Unit tests, integration tests, e2e tests</li>
					</ul>
					<aside class="notes">
						<ul>
							<li>Mocha, Chai, Sinon, JQuery pour selecteurs CSS</li>
							<li>/!\ tests en champignons: stubber et mocker le back ++</li>
							<li>seulement qq tests e2e pour tester la stack rÃ©elle car moins performant (on sort du browser donc perf)</li>
						</ul>
						Demo
					</aside>
				</section>
				<section data-background-image="images/run.jpg">
					<h2>
						<span class="bold" style="color: #49494C">RUNNING</span>
					</h2>
					<ul style="margin-top: 350px; color: #49494C">
						<li>Runs as fast as the browser can render content</li>
						<li>Automatic waiting</li>
						<li>Reloads whenever tests are updated</li>
					</ul>
					<aside class="notes">
					<ul>
						<li>auto wait : Never add waits or sleeps to your tests. it automatically waits for commands and assertions before moving on.</li>
					</ul>
					Demo
					</aside>
				</section>
				<section data-background-image="images/debug.jpg">
					<h2>
						<span class="bold" style="color: #49494C">DEBUGGING</span>
					</h2>
					<ul style="margin-top: 100px; color: #49494C">
						<li>Readable error messages</li>
						<li>Time travel</li>
						<li>Access to developer tool</li>
						<li>Screenshots and videos</li>
					</ul>
					<aside class="notes">
						<li>time travel: demo</li>
						<li>devTool: bloquÃ© avec selenium</li>
						<li>screenshots quand test fails</li>
						<li>videos for headless mode</li>
					</ul>
					</aside>
				</section>
				<section data-background-color="#D7DBDC">
					<img width="80%" src="images/wonderful.jpg" />
					<aside class="notes">
					</aside>
				</section>
				<section data-background-color="#ffffff">
					<div>But, how does it work?</div>
					<img width="70%" src="images/thinking.jpg" />
					<aside class="notes">
					</aside>
				</section>
				<section data-background-color="#ffffff">
					<h2>
						<span class="bold">ğŸ“¦ Cypress Architecture</span>
					</h2>
					<img width="100%" src="images/cypress_architecture.png" />
					<aside class="notes">
						<ul>
							<li>tourne partiellement ds browser et partiellement ds Node.JS</li>
							<li>desktop gui: interface de managment</li>
							<li>launcher lance le browser</li>
							<li>driver execute les tests donne ses directives au runner</li>
							<li>runner affiche l'app et manage les communications</li>
							<li>extension sert Ã  prendre des screenshots par ex</li>
							<li>reporter affiche les resultats</li>
						</ul>
					</aside>
				</section>
				<section data-background-image="images/trade_off.jpg">
					<h2>
						<span class="bold" style="color: #49494C">âš–ï¸ Trade-off</span>
					</h2>
					<ul style="color: #49494C">
						<li>only JavaScript support</li>
						<li>no multi-tab or multi-window support</li>
						<li style="margin-right: 30%">doing things outside of the browser may take a little extra work</li>
					</ul>
					<aside class="notes">
						Compromis
						<ul>
							<li>JS: CY tourne dans le browser, tests st Ã©valuÃ©s dedans aussi</li>
							<li>multi: ce serait tester le comportement natif de browser</li>
							<li>outside: comme seeding ou setup DB</li>
						</ul>
					</aside>
				</section>
				<section data-background-image="images/roadmap.jpg">
					<h2>
						<span class="bold">ğŸ—ºï¸ Roadmap</span>
					</h2>
					<span>3.1.0 released on 8/13/2018</span>
						<ul style="margin-top: 50px">
							<li>Cross-browser support</li>
							<li>Native events: file upload and download, keyboard events, mobile events</li>
							<li>Improving Unit Tests performance</li>
						</ul>
					<aside class="notes">
						<ul>
							<li>1: chrome, chromium, canary (variant of chrome) are supported, and electron since it's based on chromium (headless)</li>
							<li>3: UT syntax already here but it does not need cookies, local storage, etc : CPU waste</li>
						</ul>
					</aside>
				</section>
				<section data-background-image="images/deployment.jpg">
					<h2>
						<span class="bold" style="color: #49494C">ğŸš€ CI/CD</span>
					</h2>
					<ul style="margin-top: 100px; margin-bottom: 400px; color: #49494C">
						<li>all CI providers supported</li>
						<li>headless only for electron</li>
						<li>several Docker images availables</li>
					</ul>
					<aside class="notes">
						chrome headless is coming
					</aside>
				</section>
				<section data-background-color="#ffffff">
					<img width="50%" src="images/bored.jpg" />
					<aside class="notes">
						PO pourra toujours Ã©crire en Gherkin
					</aside>
				</section>
				<section data-background-color="#282C34">
					<h2>
						<img width="5%" style="margin-bottom: -10px" src="images/cucumber_small.png" />
						<span class="bold">Cucumber</span>
					</h2>
					<img width="70%" src="images/gherkin.png" />
					<aside class="notes">
						<ul>
							<li>Plugins: cypress-cucumber-preprocessor, typescript, eslint, etc</li>
						</ul>
						Demo
					</aside>
				</section>
				<section data-background-image="images/battle.jpg">
					<h2>
						<span class="bold" style="color: #49494C">ğŸ’£ The final battle</span>
					</h2>
					<table style="color: #49494C">
						<thead>
							<tr>
								<th style="width: 230px"></th>
								<th style="width: 200px"><img width="15%" style="margin-bottom: -5px" src="images/cypress_small.png" />Cypress</th>
								<th style="width: 200px"><img width="15%" style="margin-bottom: 2px" src="images/selenium.png" />Selenium</th>
							</tr>
						</thead>
						<tbody style="font-size: 30px">
							<tr>
								<td>Speed</td>
								<td>ğŸ‘ğŸ‘</td>
								<td>ğŸ‘</td>
							</tr>
							<tr>
								<td>Reliable</td>
								<td>ğŸ‘ğŸ‘</td>
								<td>ğŸ‘</td>
							</tr>
							<tr>
								<td>Remote execution</td>
								<td>âŒ</td>
								<td>ğŸ‘ğŸ‘</td>
							</tr>
							<tr>
								<td>Parallel execution</td>
								<td>ğŸ‘</td>
								<td>ğŸ‘ğŸ‘</td>
							</tr>
							<tr>
								<td>Documentation</td>
								<td>ğŸ‘ğŸ‘</td>
								<td>ğŸ‘</td>
							</tr>
							<tr>
								<td>Community</td>
								<td>ğŸ‘</td>
								<td>ğŸ‘ğŸ‘</td>
							</tr>
							<tr>
								<td>Cross-browser</td>
								<td>ğŸ•“</td>
								<td>ğŸ‘</td>
							</tr>
							<tr>
								<td>Dashboard</td>
								<td>public ğŸ‘</br> private ğŸ’¶</td>
								<td>âŒ</td>
							</tr>
						</tbody>
					</table>
					<aside class="notes">
						<ul>
							<li>speed: rÃ©seau => delay => lent</li>
							<li>reliable: wait for element Ã  la mano</li>
							<li>remote: selenium est fait pour Ã§a</li>
							<li>parallel: nouvelle feature CY v3</li>
							<li>documentation: doc cypress est top</li>
							<li>community: selenium est mature, cypress non: tous les problÃ¨mes rencontrÃ©s ne sont pas couverts (mais gitter)</li>
							<li>cross-browser: Firefox on its way</li>
							<li>dashboard: management des tests encore plus simple</li>
						</ul>
					</aside>
				</section>
				<section data-background-image="images/others.jpg">
					<h2>
						<span class="bold">ğŸ‘½ What about others?</span>
					</h2>
						<ul style="margin-top: 430px">
							<li>TestCafÃ©</li>
							<li>Sahi</li>
							<li>...</li>
						</ul>
					<aside class="notes">
						et sÃ»rement d'autres
					</aside>
				</section>
				<section data-background-image="images/conclusion.jpg">
					<h2>
						<span class="bold" style="color: #49494C">Conclusion</span>
					</h2>
						<ul style="margin-top: 330px">
							<li>Enough of slow and flaky tests</li>
							<li>With Cypress, testing is easy, fast and reliable</li>
							<li>Developers can (finally) start loving it</li>
							<li>But too young yet</li>
						</ul>
					<aside class="notes">
						j'ai rencontrÃ© qq problÃ¨mes, pas de solutions car le problÃ¨me n'a pas dÃ©jÃ  Ã©tÃ© posÃ©
					</aside>
				</section>
			</div>
		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>
			// More info about config & dependencies:
			// - https://github.com/hakimel/reveal.js#configuration
			// - https://github.com/hakimel/reveal.js#dependencies
			Reveal.initialize({
				dependencies: [
					{ src: 'plugin/markdown/marked.js' },
					{ src: 'plugin/markdown/markdown.js' },
					{ src: 'plugin/notes/notes.js', async: true },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } }
				]
			});
		</script>
		<script src="lib/js/text-animation.js"></script>
	</body>
</html>
